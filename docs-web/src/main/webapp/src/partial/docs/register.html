<div class="modal-header">
  <h3>{{ 'register.title' | translate }}</h3>
</div>
<div class="modal-body">
  <p class="text-danger" ng-show="error">{{ error | translate }}</p>
  
  <form class="form-horizontal" name="registerForm" novalidate>
    <div class="form-group" ng-class="{ 'has-error': !registerForm.username.$valid && registerForm.$dirty }">
      <label class="col-sm-3 control-label" for="inputUsername">{{ 'register.username' | translate }}</label>
      <div class="col-sm-9">
        <input type="text" class="form-control" id="inputUsername" name="username" 
                ng-model="user.username" required ng-minlength="3" ng-maxlength="50" />
        <span class="help-block" ng-show="registerForm.username.$error.required && registerForm.$dirty">{{ 'validation.required' | translate }}</span>
        <span class="help-block" ng-show="registerForm.username.$error.minlength && registerForm.$dirty">{{ 'validation.too_short' | translate }}</span>
        <span class="help-block" ng-show="registerForm.username.$error.maxlength && registerForm.$dirty">{{ 'validation.too_long' | translate }}</span>
      </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': !registerForm.email.$valid && registerForm.$dirty }">
      <label class="col-sm-3 control-label" for="inputEmail">{{ 'register.email' | translate }}</label>
      <div class="col-sm-9">
        <input type="email" class="form-control" id="inputEmail" name="email" 
                ng-model="user.email" required ng-maxlength="100" />
        <span class="help-block" ng-show="registerForm.email.$error.required && registerForm.$dirty">{{ 'validation.required' | translate }}</span>
        <span class="help-block" ng-show="registerForm.email.$error.email && registerForm.$dirty">{{ 'validation.invalid_email' | translate }}</span>
        <span class="help-block" ng-show="registerForm.email.$error.maxlength && registerForm.$dirty">{{ 'validation.too_long' | translate }}</span>
      </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': !registerForm.password.$valid && registerForm.$dirty }">
      <label class="col-sm-3 control-label" for="inputPassword">{{ 'register.password' | translate }}</label>
      <div class="col-sm-9">
        <input type="password" class="form-control" id="inputPassword" name="password" 
                ng-model="user.password" required ng-minlength="8" ng-maxlength="50" />
        <span class="help-block" ng-show="registerForm.password.$error.required && registerForm.$dirty">{{ 'validation.required' | translate }}</span>
        <span class="help-block" ng-show="registerForm.password.$error.minlength && registerForm.$dirty">{{ 'validation.too_short' | translate }}</span>
        <span class="help-block" ng-show="registerForm.password.$error.maxlength && registerForm.$dirty">{{ 'validation.too_long' | translate }}</span>
      </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': !registerForm.passwordConfirm.$valid && registerForm.$dirty }">
      <label class="col-sm-3 control-label" for="inputPasswordConfirm">{{ 'register.password_confirm' | translate }}</label>
      <div class="col-sm-9">
        <input type="password" class="form-control" id="inputPasswordConfirm" name="passwordConfirm" 
                ng-model="user.passwordConfirm" required match="user.password" />
        <span class="help-block" ng-show="registerForm.passwordConfirm.$error.required && registerForm.$dirty">{{ 'validation.required' | translate }}</span>
        <span class="help-block" ng-show="registerForm.passwordConfirm.$error.match && registerForm.$dirty">{{ 'validation.password_mismatch' | translate }}</span>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-default" ng-click="close()">{{ 'cancel' | translate }}</button>
  <button type="button" class="btn btn-primary" ng-click="register()" ng-disabled="!registerForm.$valid">{{ 'register.submit' | translate }}</button>
</div>